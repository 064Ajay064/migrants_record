{% extends "base.html" %}

{% block page_content %}
<div class="max-w-4xl mx-auto bg-white p-8 rounded-lg shadow-xl" data-aos="fade-in">
    <h2 class="text-3xl font-bold text-gray-900 mb-6">{{ title }}</h2>
    
    <form method="POST" action="{{ url_for('add_migrant') }}" class="space-y-6">
        {{ form.hidden_tag() }}

        <section class="border-b pb-4">
            <h3 class="text-xl font-semibold mb-4 text-blue-600">1. Personal Information</h3>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <div><label for="{{ form.name.id }}" class="block text-sm font-medium text-gray-700">{{ t.full_name }}</label>{{ form.name(class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md") }}</div>
                <div><label for="{{ form.age.id }}" class="block text-sm font-medium text-gray-700">{{ t.age }}</label>{{ form.age(class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md") }}</div>
                <div><label for="{{ form.gender.id }}" class="block text-sm font-medium text-gray-700">{{ t.gender }}</label>{{ form.gender(class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md") }}</div>
                <div><label for="{{ form.contact.id }}" class="block text-sm font-medium text-gray-700">{{ t.contact_number }}</label>{{ form.contact(class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md") }}</div>
                
                <div><label for="{{ form.date_of_birth.id }}" class="block text-sm font-medium text-gray-700">{{ t.date_of_birth }}</label>{{ form.date_of_birth(class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md", type="date") }}</div>
                <div><label for="{{ form.nationality.id }}" class="block text-sm font-medium text-gray-700">{{ t.nationality }}</label>{{ form.nationality(class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md") }}</div>
                <div><label for="{{ form.state_of_origin.id }}" class="block text-sm font-medium text-gray-700">{{ t.state_of_origin }}</label>{{ form.state_of_origin(class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md") }}</div>
                <div><label for="{{ form.aadhaar_passport.id }}" class="block text-sm font-medium text-gray-700">{{ t.aadhaar_passport }}</label>{{ form.aadhaar_passport(class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md") }}</div>
                <div><label for="{{ form.emergency_contact_name.id }}" class="block text-sm font-medium text-gray-700">{{ t.emergency_contact_person }}</label>{{ form.emergency_contact_name(class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md") }}</div>
                <div><label for="{{ form.emergency_contact_number.id }}" class="block text-sm font-medium text-gray-700">{{ t.emergency_contact_number }}</label>{{ form.emergency_contact_number(class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md") }}</div>
                <div><label for="{{ form.preferred_language.id }}" class="block text-sm font-medium text-gray-700">{{ t.preferred_language }}</label>{{ form.preferred_language(class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md") }}</div>
                <div><label for="{{ form.literacy_level.id }}" class="block text-sm font-medium text-gray-700">{{ t.literacy_level }}</label>{{ form.literacy_level(class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md") }}</div>
                <div class="flex items-center space-x-2 mt-6">{{ form.data_sharing_consent() }}<label for="{{ form.data_sharing_consent.id }}" class="text-sm font-medium text-gray-700">{{ t.consent_for_data_sharing }}</label></div>
            </div>
        </section>

        <section class="border-b pb-4">
            <h3 class="text-xl font-semibold mb-4 text-blue-600">2. Work Information</h3>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <div><label for="{{ form.occupation.id }}" class="block text-sm font-medium text-gray-700">{{ t.occupation }}</label>{{ form.occupation(class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md") }}</div>
                <div><label for="{{ form.employer_name.id }}" class="block text-sm font-medium text-gray-700">{{ t.employer_name }}</label>{{ form.employer_name(class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md") }}</div>
                <div><label for="{{ form.employer_contact.id }}" class="block text-sm font-medium text-gray-700">{{ t.employer_contact }}</label>{{ form.employer_contact(class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md") }}</div>
                <div><label for="{{ form.work_location_district.id }}" class="block text-sm font-medium text-gray-700">{{ t.work_location_district }}</label>{{ form.work_location_district(class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md") }}</div>
                <div><label for="{{ form.work_location_pincode.id }}" class="block text-sm font-medium text-gray-700">{{ t.work_location_pincode }}</label>{{ form.work_location_pincode(class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md") }}</div>
                <div><label for="{{ form.duration_of_stay.id }}" class="block text-sm font-medium text-gray-700">{{ t.duration_of_stay }}</label>{{ form.duration_of_stay(class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md") }}</div>
                <div><label for="{{ form.living_conditions.id }}" class="block text-sm font-medium text-gray-700">{{ t.living_conditions }}</label>{{ form.living_conditions(class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md") }}</div>
            </div>
        </section>
        
        <section class="border-b pb-4">
            <h3 class="text-xl font-semibold mb-4 text-blue-600">3. Health History</h3>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <div><label for="{{ form.allergies.id }}" class="block text-sm font-medium text-gray-700">{{ t.allergies }}</label>{{ form.allergies(class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md") }}</div>
                <div><label for="{{ form.past_medical_conditions.id }}" class="block text-sm font-medium text-gray-700">{{ t.past_medical_conditions }}</label>{{ form.past_medical_conditions(class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md") }}</div>
                <div><label for="{{ form.past_surgical_history.id }}" class="block text-sm font-medium text-gray-700">{{ t.past_surgical_history }}</label>{{ form.past_surgical_history(class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md") }}</div>
                <div><label for="{{ form.family_history.id }}" class="block text-sm font-medium text-gray-700">{{ t.family_history }}</label>{{ form.family_history(class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md") }}</div>
                <div><label for="{{ form.immunization_status.id }}" class="block text-sm font-medium text-gray-700">{{ t.immunization_status }}</label>{{ form.immunization_status(class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md") }}</div>
            </div>
        </section>

        <section class="border-b pb-4">
            <h3 class="text-xl font-semibold mb-4 text-blue-600">4. Current Health Status</h3>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                <div><label for="{{ form.height.id }}" class="block text-sm font-medium text-gray-700">{{ t.height_cm }}</label>{{ form.height(class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md", type="number", step="0.1") }}</div>
                <div><label for="{{ form.weight.id }}" class="block text-sm font-medium text-gray-700">{{ t.weight_kg }}</label>{{ form.weight(class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md", type="number", step="0.1") }}</div>
                <div><label for="{{ form.blood_group.id }}" class="block text-sm font-medium text-gray-700">{{ t.blood_group }}</label>{{ form.blood_group(class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md") }}</div>
                <div><label for="{{ form.vital_signs.id }}" class="block text-sm font-medium text-gray-700">{{ t.vital_signs }}</label>{{ form.vital_signs(class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md") }}</div>
                <div><label for="{{ form.current_medications.id }}" class="block text-sm font-medium text-gray-700">{{ t.current_medications }}</label>{{ form.current_medications(class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md") }}</div>
                <div><label for="{{ form.ongoing_treatment.id }}" class="block text-sm font-medium text-gray-700">{{ t.ongoing_treatment }}</label>{{ form.ongoing_treatment(class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md") }}</div>
                <div><label for="{{ form.infectious_disease_screening.id }}" class="block text-sm font-medium text-gray-700">{{ t.infectious_disease_screening }}</label>{{ form.infectious_disease_screening(class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md") }}</div>
                <div><label for="{{ form.health_condition.id }}" class="block text-sm font-medium text-gray-700">{{ t.health_condition }}</label>{{ form.health_condition(class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md") }}</div>
            </div>
        </section>
        
        <section class="border-b pb-4">
            <h3 class="text-xl font-semibold mb-4 text-blue-600">5. Visit & Medical Records</h3>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <div><label for="{{ form.last_checkup.id }}" class="block text-sm font-medium text-gray-700">{{ t.last_checkup }}</label>{{ form.last_checkup(class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md", type="date") }}</div>
                <div><label for="{{ form.healthcare_facility.id }}" class="block text-sm font-medium text-gray-700">{{ t.healthcare_facility }}</label>{{ form.healthcare_facility(class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md") }}</div>
                <div><label for="{{ form.doctor_name.id }}" class="block text-sm font-medium text-gray-700">{{ t.doctor_name }}</label>{{ form.doctor_name(class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md") }}</div>
                <div><label for="{{ form.symptoms.id }}" class="block text-sm font-medium text-gray-700">{{ t.symptoms_presented }}</label>{{ form.symptoms(class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md") }}</div>
                <div><label for="{{ form.diagnosis.id }}" class="block text-sm font-medium text-gray-700">{{ t.diagnosis }}</label>{{ form.diagnosis(class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md") }}</div>
                <div><label for="{{ form.prescriptions.id }}" class="block text-sm font-medium text-gray-700">{{ t.prescriptions_medicines }}</label>{{ form.prescriptions(class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md") }}</div>
                <div><label for="{{ form.lab_results.id }}" class="block text-sm font-medium text-gray-700">{{ t.lab_results }}</label>{{ form.lab_results(class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md") }}</div>
                <div><label for="{{ form.vaccination_records.id }}" class="block text-sm font-medium text-gray-700">{{ t.vaccination_records }}</label>{{ form.vaccination_records(class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md") }}</div>
            </div>
        </section>

        <section class="pb-4">
            <h3 class="text-xl font-semibold mb-4 text-blue-600">6. Public Health / Surveillance</h3>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <div><label for="{{ form.disease_alerts.id }}" class="block text-sm font-medium text-gray-700">{{ t.disease_alerts }}</label>{{ form.disease_alerts(class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md") }}</div>
                <div><label for="{{ form.contact_tracing_info.id }}" class="block text-sm font-medium text-gray-700">{{ t.contact_tracing_info }}</label>{{ form.contact_tracing_info(class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md") }}</div>
                <div><label for="{{ form.referral_notes.id }}" class="block text-sm font-medium text-gray-700">{{ t.referral_notes }}</label>{{ form.referral_notes(class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md") }}</div>
                <div><label for="{{ form.follow_up_date.id }}" class="block text-sm font-medium text-gray-700">{{ t.follow_up_date }}</label>{{ form.follow_up_date(class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md", type="date") }}</div>
            </div>
        </section>

        <div>
            {{ form.submit(class="w-full md:w-auto bg-green-600 hover:bg-green-700 text-white px-8 py-3 rounded-lg font-bold transition duration-200") }}
        </div>
    </form>
</div>
{% endblock page_content %}